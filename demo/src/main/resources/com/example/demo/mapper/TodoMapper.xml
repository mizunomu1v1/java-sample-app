<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.TodoMapper">

    <select id="selectTodo" resultType="com.example.demo.entity.Todo">
        SELECT 
           todo_id
          ,task 
        FROM todo
    </select>

    <insert id="insertTodo" parameterType="com.example.demo.entity.Todo">
        INSERT INTO todo
         (
           todo_id
          ,task 
          ,last_update
          )
          VALUES (
           nextval('todo_seq')
          ,#{task} 
          ,CURRENT_TIMESTAMP
          )
    </insert>

    <delete id="deleteTodo" parameterType="com.example.demo.entity.Todo">
        DELETE FROM todo
        WHERE todo_id = #{todo_id} 
    </delete>
</mapper>